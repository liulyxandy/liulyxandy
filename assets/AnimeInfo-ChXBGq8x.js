import{d as N,r as g,l as D,o as s,c as d,h as v,u as l,m as V,a,P as R,w as u,R as C,i,n as P,p as $,q as w,D as q,s as y,S,v as I,k as n,t as p,x as A,T as m,F as x,g as T,I as z,y as E,z as G,A as k}from"./index-DDfM-Sv-.js";const H={style:{margin:"50px"}},L={key:1},U={key:0},j={key:1},J={key:0},K={key:1},M=["src"],W=N({__name:"AnimeInfo",setup(O){const _=P(),t=g(),b=g(window.location.href),r=g("ready");function F(f){r.value="copying",navigator.clipboard.writeText(f).then(()=>{r.value="success",setTimeout(()=>r.value="ready",2e3)}).catch(()=>{r.value="error",setTimeout(()=>r.value="ready",2e3)})}function B(f){$(Number(f)).then(e=>t.value=e),b.value=window.location.href}return D(()=>_.params.id,B),B(_.params.id),(f,e)=>(s(),d("div",H,[t.value?(s(),d("div",L,[a(l(R),{title:t.value.name,onBack:e[0]||(e[0]=()=>f.$router.push("/"))},null,8,["title"]),a(l(C),{gutter:16},{default:u(()=>[a(l(w),{span:18},{default:u(()=>[a(l(q),{bordered:""},{default:u(()=>[a(l(y),{label:"状态",span:3},{default:u(()=>[a(l(S),null,{default:u(()=>[a(l(I),{status:t.value.episode.total==t.value.episode.current?"success":"processing",text:t.value.episode.total==t.value.episode.current?"已完结":"更新中"},null,8,["status","text"]),a(l(I),{count:t.value.suspended?"已暂停":t.value.episode.watched==0?"计划中":t.value.episode.watched==t.value.episode.total?"已看完":"观看中","number-style":{backgroundColor:t.value.suspended?"red":t.value.episode.watched==0?"cyan":t.value.episode.watched==t.value.episode.total?"green":"blue"}},null,8,["count","number-style"])]),_:1})]),_:1}),a(l(y),{label:"已看集数"},{default:u(()=>[n(p(t.value.episode.watched),1)]),_:1}),a(l(y),{label:"已更集数"},{default:u(()=>[n(p(t.value.episode.current),1)]),_:1}),a(l(y),{label:"总集数"},{default:u(()=>[n(p(t.value.episode.total),1)]),_:1}),t.value.episode.comment?(s(),v(l(y),{key:0,label:"备注"},{default:u(()=>[n(p(t.value.episode.comment),1)]),_:1})):A("",!0)]),_:1}),e[6]||(e[6]=i("br",null,null,-1)),a(l(m),{level:4},{default:u(()=>e[3]||(e[3]=[n("简介")])),_:1}),n(" "+p(t.value.description)+" ",1),e[7]||(e[7]=i("br",null,null,-1)),e[8]||(e[8]=i("br",null,null,-1)),a(l(C),{gutter:16},{default:u(()=>[a(l(w),{span:12},{default:u(()=>[a(l(m),{level:4},{default:u(()=>e[4]||(e[4]=[n("STAFF")])),_:1}),t.value.staff?(s(),d("div",U,[(s(!0),d(x,null,T(t.value.staff.split(`
`),o=>(s(),d("div",{key:o},p(o),1))),128))])):(s(),d("div",j," 暂无数据 "))]),_:1}),a(l(w),{span:12},{default:u(()=>[a(l(m),{level:4},{default:u(()=>e[5]||(e[5]=[n("CAST")])),_:1}),t.value.cast?(s(),d("div",J,[(s(!0),d(x,null,T(t.value.cast.split(`
`),o=>(s(),d("div",{key:o},p(o),1))),128))])):(s(),d("div",K," 暂无数据 "))]),_:1})]),_:1})]),_:1}),a(l(w),{span:6},{default:u(()=>[i("img",{src:t.value.cover,width:"100%"},null,8,M),e[15]||(e[15]=i("br",null,null,-1)),a(l(m),{level:4},{default:u(()=>e[9]||(e[9]=[n("观看方式")])),_:1}),a(l(S),{direction:"vertical"},{default:u(()=>[(s(!0),d(x,null,T(t.value.source,o=>(s(),v(l(k),{key:o.name,type:"primary",href:o.link,target:"_blank"},{default:u(()=>[n(p(o.name),1)]),_:2},1032,["href"]))),128))]),_:1}),e[16]||(e[16]=i("br",null,null,-1)),e[17]||(e[17]=i("br",null,null,-1)),a(l(m),{level:4},{default:u(()=>e[10]||(e[10]=[n("分享")])),_:1}),a(l(z),{compact:""},{default:u(()=>[a(l(E),{value:b.value,"onUpdate:value":e[1]||(e[1]=o=>b.value=o),style:{width:"calc(100% - 70px)"},readonly:""},null,8,["value"]),a(l(G),{title:"复制分享链接"},{default:u(()=>[r.value=="ready"?(s(),v(l(k),{key:0,style:{width:"70px"},onClick:e[2]||(e[2]=o=>F(b.value))},{default:u(()=>e[11]||(e[11]=[n("复制")])),_:1})):r.value=="copying"?(s(),v(l(k),{key:1,style:{width:"70px"},loading:""},{default:u(()=>e[12]||(e[12]=[n("复制中")])),_:1})):r.value=="success"?(s(),v(l(k),{key:2,style:{width:"70px"},type:"primary"},{default:u(()=>e[13]||(e[13]=[n("已复制")])),_:1})):r.value=="error"?(s(),v(l(k),{key:3,style:{width:"70px"},danger:""},{default:u(()=>e[14]||(e[14]=[n("复制失败")])),_:1})):A("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),e[18]||(e[18]=i("br",null,null,-1)),e[19]||(e[19]=i("br",null,null,-1))])):(s(),v(l(V),{key:0}))]))}});export{W as default};
